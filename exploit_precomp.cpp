/* the following test does not work and the C-preprocessor
 * is not turing complete as expected! */
#ifndef C
#include <iostream>
using namespace std;
int main() {
#define C 0
#define X 1.0
#define S ""
#endif

#define TMP C
#undef C
#define C (TMP + 1)
#undef TMP
cout << C << ": ";

#define X (1.0 + 1.0/(X))
cout << X << endl;

#if (C == 0 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1)
#include __FILE__
#else
}
#endif
